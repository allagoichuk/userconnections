<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Home Page</title>
    <link href="/Content/bootstrap.css" rel="stylesheet" />
    <link href="/Content/site.css" rel="stylesheet" />
    

</head>
<body>
    <div class="container body-content">
        <div class="row">
 
            <div class="col-sm-4">
                <form data-bind="submit: register">
                    <h3>Register</h3>
                    <div class="form-group">
                        <label>User name</label>
                        <input class="form-control" type="text" data-bind="value: registerEmail" />
                    </div>
                    <div class="form-group">
                        <label>Password</label>
                        <input class="form-control" type="password" data-bind="value: registerPassword" />
                    </div>
                    <div class="form-group">
                        <label>Confirm Password</label>
                        <input class="form-control" type="password" data-bind="value: registerPassword2" />
                    </div>
                    <div class="form-group">
                        <button type="submit" class="btn btn-default">Register</button>
                    </div>
                </form>
            </div>

            <div class="col-sm-4">
                <h3>Log In</h3>
                <form data-bind="submit: login">
                    <div class="form-group">
                        <label>User name</label>
                        <input class="form-control" type="text" data-bind="value: loginEmail" />
                    </div>
                    <div class="form-group">
                        <label>Password</label>
                        <input class="form-control" type="password" data-bind="value: loginPassword" />
                    </div>
                    <div class="form-group">
                        <button type="submit" class="btn btn-default">Log In</button>
                        <button data-bind="click: logout" class="btn btn-default">Log Out</button>
                    </div>
                </form>
            </div>

            <div class="col-sm-4">
                <div data-bind="visible: isAuthenticated"><span>Hello <label data-bind="text: user"></label>!</span></div>
                <div data-bind="visible: isRegistered">You have registered, please login</div>

                <div><label style="color:red" data-bind="text: result, visible: isError"></label></div>

                <form data-bind="submit: getUserRelations, visible: isAuthenticated">
                    <h3>All Your linked users</h3>
                    <div class="form-group">
                        <button type="submit" class="btn btn-default">Refresh</button>
                    </div>
                    <div data-bind="foreach: relations">
                        <div>
                            <input type="checkbox" data-bind="click: $parent.revertRelation, checked: IsLinked" />
                            <label data-bind="text: OtherEmail"></label>
                            <img src="/img/wait2.png" style="width:16px; height:16px" data-bind="visible: Updating" />
                        </div>
                    </div>
                </form>

                <form data-bind="submit: getAllRelations, visible: isAdmin">
                    <h3>All linked users</h3>
                    <div class="form-group">
                        <button type="submit" class="btn btn-default">Refresh</button>
                    </div>
                    <div data-bind="foreach: allRelations">
                        <div>
                            <label data-bind="text: Email"></label> linked to <label data-bind="text: OtherEmail"></label>
                        </div>
                    </div>
                </form>

            </div>

        </div>
        <hr />
        <footer>
            <p>&copy; 2015 - My ASP.NET Application</p>
        </footer>
    </div>

    <script src="/Scripts/jquery-2.1.1.js"></script>
    <script src="/Scripts/bootstrap.js"></script>
    <script src="/Scripts/knockout-3.2.0.debug.js"></script>

    <script src="/Scripts/app.js"></script>

</body>
</html>
